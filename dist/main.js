!function(e){var t={};function l(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=e,l.c=t,l.d=function(e,t,r){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(l.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(r,n,function(t){return e[t]}.bind(null,n));return r},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="",l(l.s=0)}([function(e,t,l){"use strict";l.r(t);const r=(()=>{let e=new Array(9);const t=()=>{for(let t=0;t<e.length;t++)e[t]=""};t();return{clearBoard:t,printBoard:()=>{console.table(e)},getCell:t=>e[t],setCell:(t,l)=>{e[t]=l},isCellFilled:t=>"x"==e[t]||"o"==e[t]}})(),n=(()=>{let e=!0,t=0,l=!1;const n=e=>parseInt(e.getAttribute("id"),10),i=()=>{l=!l};return{changeTurn:()=>{e=!e},isPlayersTurn:()=>e,prepareNewGame:()=>{e=!0,t=0,r.clearBoard(),i()},updateBoard:(e,l)=>{let i=n(e);r.setCell(i,l),t+=1},isCellMarked:e=>{let t=n(e);return r.isCellFilled(t)},debug:()=>{r.printBoard()},getListOfEmptyCellIndexes:()=>{let e=[];for(let t=0;t<9;t++)r.isCellFilled(t)||e.push(t);return e},checkForWinner:()=>r.getCell(0)&&r.getCell(0)==r.getCell(1)&&r.getCell(0)==r.getCell(2)?{isThereWinner:!0,indexes:[0,1,2]}:r.getCell(3)&&r.getCell(3)==r.getCell(4)&&r.getCell(3)==r.getCell(5)?{isThereWinner:!0,indexes:[3,4,5]}:r.getCell(6)&&r.getCell(6)==r.getCell(7)&&r.getCell(6)==r.getCell(8)?{isThereWinner:!0,indexes:[6,7,8]}:r.getCell(0)&&r.getCell(0)==r.getCell(3)&&r.getCell(0)==r.getCell(6)?{isThereWinner:!0,indexes:[0,3,6]}:r.getCell(1)&&r.getCell(1)==r.getCell(4)&&r.getCell(1)==r.getCell(7)?{isThereWinner:!0,indexes:[1,4,7]}:r.getCell(2)&&r.getCell(2)==r.getCell(5)&&r.getCell(2)==r.getCell(8)?{isThereWinner:!0,indexes:[2,5,8]}:r.getCell(0)&&r.getCell(0)==r.getCell(4)&&r.getCell(0)==r.getCell(8)?{isThereWinner:!0,indexes:[0,4,8]}:r.getCell(2)&&r.getCell(2)==r.getCell(4)&&r.getCell(2)==r.getCell(6)?{isThereWinner:!0,indexes:[2,4,6]}:{isThereWinner:!1,indexes:[]},getRound:()=>t,setGameOver:i,getGameOver:()=>l}})();function i(e,t){let l=document.getElementById("alert");l.firstElementChild.textContent=e,l.classList.contains("alert-secondary")?l.classList.remove("alert-secondary"):l.classList.contains("alert-success")?l.classList.remove("alert-success"):l.classList.contains("alert-danger")?l.classList.remove("alert-danger"):l.classList.contains("alert-warning")&&l.classList.remove("alert-warning"),l.classList.add(t)}function o(e,t,l){if("Tie!"!=t){let l="white";"You win!"==t?l="green":"You lose!"==t&&(l="red");for(let t=0;t<e.indexes.length;t++)c[e.indexes[t]].style.backgroundColor=l}i(t,l),n.setGameOver(),c.forEach(e=>{e.style.cursor="not-allowed"})}function s(e){let t=e[(l=e.length,Math.floor(Math.random()*Math.floor(l)))];var l;let r=c[t];return r.style.cursor="not-allowed",r.textContent="o",n.updateBoard(r,"o"),n.changeTurn(),n.checkForWinner()}function a(e){if(!n.getGameOver()&&n.isPlayersTurn()&&!n.isCellMarked(this)){if(this.style.cursor="not-allowed",this.textContent="x",n.updateBoard(this,"x"),n.getRound()>=5){let e=n.checkForWinner();if(e.isThereWinner)return o(e,"You win!","alert-success"),0}let e=n.getListOfEmptyCellIndexes();if(0==e.length)return o([],"Tie!","alert-warning"),0;{n.changeTurn();let t=s(e);if(t.isThereWinner)return o(t,"You lose!","alert-danger"),0}}}const c=document.querySelectorAll("td");c.forEach(e=>{e.addEventListener("click",a)});document.querySelector("button").addEventListener("click",(function(e){c.forEach(e=>{e.style.backgroundColor="#343a40",e.style.cursor="pointer",e.textContent="\0"}),i("Welcome to","alert-secondary"),n.prepareNewGame()}))}]);